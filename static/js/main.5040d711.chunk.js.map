{"version":3,"sources":["components/Searchbar/Searchbar.js","components/imageAPI.js","components/ImageInfo/ImageInfo.js","App.js","index.js"],"names":["Searchbar","state","image","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","props","formSubmitHandler","reset","className","onSubmit","this","type","style","marginRight","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","name","fetch","then","response","ok","json","Promise","reject","Error","Status","ImageInfo","error","status","prevProps","prevState","snapshot","imageName","imageAPI","data","console","log","hits","catch","message","src","webformatURL","alt","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4SAMqBA,G,kNACjBC,MAAQ,CACJC,MAAO,I,EAGXC,aAAe,SAAAC,GACX,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,MAAMC,iB,EAGjDC,aAAe,SAAAL,GAGX,GAFAA,EAAEM,iBAE8B,KAA5B,EAAKT,MAAMC,MAAMS,OACjB,OAAOC,YAAM,eAGjB,EAAKC,MAAMC,kBAAkB,EAAKb,MAAMC,OACxC,EAAKa,S,EAGTA,MAAQ,WACJ,EAAKV,SAAS,CAAEH,MAAO,M,uDAIvB,OACI,wBAAQc,UAAU,YAAlB,SACI,uBAAMC,SAAUC,KAAKT,aAAcO,UAAU,aAA7C,UACI,yBAAQG,KAAK,SAASH,UAAU,oBAAhC,UACI,cAAC,IAAD,CAAUI,MAAO,CAAEC,YAAa,KAChC,sBAAML,UAAU,0BAAhB,uBAGJ,uBACIA,UAAU,mBACVG,KAAK,OACLZ,MAAOW,KAAKjB,MAAMC,MAClBoB,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUP,KAAKf,wB,GAxCAuB,cCQvC,IAGeC,EAHH,CACRC,YAfJ,SAAqBC,GAIjB,OAAOC,MAAM,GAAD,OAHK,2BAGL,gBAFI,qCAEJ,yEACmFD,IAC7FE,MAAK,SAAAC,GACH,OAAIA,EAASC,GACFD,EAASE,OAEbC,QAAQC,OAAO,IAAIC,MAAJ,UAAaR,EAAb,iGCPxBS,EACI,OADJA,EAEO,UAFPA,EAGQ,WAHRA,EAIQ,WAGOC,E,4MACjBtC,MAAQ,CACJC,MAAO,KACPsC,MAAO,KACPC,OAAQH,G,iEAGOI,EAAWC,EAAWC,GAAW,IAAD,OAC3CF,EAAUG,YAAc3B,KAAKL,MAAMgC,YACnC3B,KAAKb,SAAS,CAAEoC,OAAQH,IACxBQ,EACKlB,YAAYV,KAAKL,MAAMgC,WACvBd,MAAK,SAAAgB,GAEF,OADAC,QAAQC,IAAIF,EAAKG,MACVH,EAAKG,QAEfnB,MAAK,SAAA7B,GAAK,OACP,EAAKG,SAAS,CAAEH,QAAOuC,OAAQH,OAElCa,OAAM,SAAAX,GAAK,OACR,EAAKnC,SAAS,CAAEmC,QAAOC,OAAQH,U,+BAKrC,IAAD,EAC4BpB,KAAKjB,MAA9BC,EADH,EACGA,MAAOsC,EADV,EACUA,MAAOC,EADjB,EACiBA,OAGtB,MAAe,SAAXA,EACO,iDAGI,YAAXA,EACO,4CAGI,aAAXA,EACO,8BAAMD,EAAMY,UAGR,aAAXX,EAEI,8BACI,oBAAIzB,UAAU,mBAAd,SACI,qBACIqC,IAAKnD,EAAM,GAAGoD,aACdC,IAAI,GACJvC,UAAU,oCAP9B,M,GAzC+BU,aCgBxB8B,E,4MAlBXvD,MAAQ,CACJ4C,UAAW,I,EAGfY,iBAAmB,SAAAZ,GACf,EAAKxC,SAAS,CAAEwC,e,uDAGhB,OACI,gCACI,cAAC,EAAD,CAAW/B,kBAAmBI,KAAKuC,mBACnC,cAAC,EAAD,CAAWZ,UAAW3B,KAAKjB,MAAM4C,YACjC,cAAC,IAAD,CAAgBa,UAAW,a,GAbzBhC,aCFlBiC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.5040d711.chunk.js","sourcesContent":["import { Component } from 'react';\nimport { ImSearch } from 'react-icons/im';\n\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Searchbar extends Component {\n    state = {\n        image: '',\n    };\n\n    handleChange = e => {\n        this.setState({ image: e.currentTarget.value.toLowerCase() });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        if (this.state.image.trim() === '') {\n            return toast('Enter text!');\n        }\n\n        this.props.formSubmitHandler(this.state.image);\n        this.reset();\n    };\n\n    reset = () => {\n        this.setState({ image: '' });\n    };\n\n    render() {\n        return (\n            <header className=\"Searchbar\">\n                <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <ImSearch style={{ marginRight: 8 }} />\n                        <span className=\"SearchForm-button-label\">Search</span>\n                    </button>\n\n                    <input\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        value={this.state.image}\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n","function fetchImages(name) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '19044793-8d0b89c981ce143090a5b157d';\n\n    return fetch(\n        `${BASE_URL}?key=${API_KEY}&page=1&image_type=photo&orientation=horizontal&per_page=12&q=${name}`,\n    ).then(response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return Promise.reject(new Error(`${name}Нет такого имени`));\n    });\n}\n\nconst api = {\n    fetchImages,\n};\nexport default api;\n","import { Component } from 'react';\nimport imageAPI from '../imageAPI';\n\nconst Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n};\n\nexport default class ImageInfo extends Component {\n    state = {\n        image: null,\n        error: null,\n        status: Status.IDLE,\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.imageName !== this.props.imageName) {\n            this.setState({ status: Status.PENDING });\n            imageAPI\n                .fetchImages(this.props.imageName)\n                .then(data => {\n                    console.log(data.hits);\n                    return data.hits;\n                })\n                .then(image =>\n                    this.setState({ image, status: Status.RESOLVED }),\n                )\n                .catch(error =>\n                    this.setState({ error, status: Status.REJECTED }),\n                );\n        }\n    }\n\n    render() {\n        const { image, error, status } = this.state;\n        // const { imageName } = this.props;\n\n        if (status === 'idle') {\n            return <div>add name image</div>;\n        }\n\n        if (status === 'pending') {\n            return <div>Update...</div>;\n        }\n\n        if (status === 'rejected') {\n            return <div>{error.message}</div>;\n        }\n\n        if (status === 'resolved') {\n            return (\n                <div>\n                    <li className=\"ImageGalleryItem\">\n                        <img\n                            src={image[0].webformatURL}\n                            alt=\"\"\n                            className=\"ImageGalleryItem-image\"\n                        />\n                    </li>\n                </div>\n            );\n        }\n    }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageInfo from './components/ImageInfo';\n\nclass App extends Component {\n    state = {\n        imageName: '',\n    };\n\n    handleFormSubmit = imageName => {\n        this.setState({ imageName });\n    };\n    render() {\n        return (\n            <div>\n                <Searchbar formSubmitHandler={this.handleFormSubmit} />\n                <ImageInfo imageName={this.state.imageName} />\n                <ToastContainer autoClose={2000} />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}